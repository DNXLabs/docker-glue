# docker-glue-libs

Use AWS Glue libraries and run them on Docker container locally.

This is by far the best option considering the development of the jobs and testing the jobs on relatively small datasets and once the job is ready running them using the glue job console itself. With this option, you get the flexibility of using glue libraries either on your machine or you can spin up EC2 instances according to your dataset size and launch the docker container on these EC2, as this will be a relatively cheaper option and the most suitable one to run your jobs.

This repository contains libraries used in the AWS Glue service. These libraries extend Apache Spark with additional data types and operations for ETL workflows. They are used in code generated by the AWS Glue service and can be used in scripts submitted with Glue jobs.

## Content
- [awsglue](https://github.com/svajiraya/aws-glue-libs/tree/master/awsglue) -- This Python package includes the Python interfaces to the AWS Glue ETL library.

## Build a docker image from Dockerfile

To build the image out of this Dockerfile run the following command:

```bash
docker build -t dnxsolutions/glue-libs .
```

## Pull the existing image from DockerHub

To use the existing image for starting your container, just pull the image from docker hub and run the commands provided to submit jobs.

To pull the image run the following command:

```bash
docker pull dnxsolutions/glue-libs:latest
```

## Run the Docker container

To run the container and get into repl shell:

```bash
docker run dnxsolutions/glue-libs "gluepyspark"
```

To get into the terminal and submit a spark job run:
```bash
docker run -it dnxsolutions/glue-libs
gluesparksubmit script.py --JOB_NAME script
```

This way you will be able to test your job on your local machine or you can also use this on any EC2 instance based on your data size.

## Licensing

The libraries in this repository licensed under the Amazon Software License (the "License"). They may not be used except in compliance with the License, a copy of which is included here in the LICENSE file.